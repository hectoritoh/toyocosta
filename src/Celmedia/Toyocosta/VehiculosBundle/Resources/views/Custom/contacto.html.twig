{% extends 'CelmediaToyocostaVehiculosBundle::template.html.twig' %}

{% block seo %}
    
    <title>TOYOCOSTA | Contacto</title>
    
    <meta name="description" content="Maneja el Toyota que tanto quieres. Registra tus datos y un operador se comunicará contigo para agendar un test drive en Toyocosta."/>

    <meta name="keywords" content="test drive autos toyota guayaquil, test drive camionetas toyota guayaquil, toyocosta test drive" />

{% endblock %}


{% block bannercabecera %}

        <header>

            {% image '@CelmediaToyocostaVehiculosBundle/Resources/public/custom/img/contacto.jpg' %}
            <img src="{{ asset_url }}" id="logoblanco" alt="Toyocosta" class="img-responsive"  style="width:100%;" />
            {% endimage %}

        </header>
    
{% endblock %}


{% block contenidotoyocosta %}

    <div class="container">
        <div class="row">
            <div class="col-md-12" style="padding-left: 0px;">
                <ol class="breadcrumb">
                    <li>
                        <a href="{{ path('toyocosta_homepage') }}">Inicio</a>
                    </li>
                    <li class="active">Contacto</li>
                </ol>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center titular">COMENTARIOS Y SUGERENCIAS</h1>
            </div>
        </div>


        <div class="row">
            <div class="col-md-6 col-md-offset-3 tb-20">
                
                <p class="text-center parrafo">Seleccione un establecimiento.</p>
            </div>
        </div>

        <div class="row">

            <div class="col-md-12">

                <div class="row">

                    <div class="col-md-4">
                        <hr style="border-top: 1px solid #CCCCCC;">
                    </div>

                    <div class="col-md-4">
                        <form class="form-inline" style="padding-left:10px;padding-right:10px;" role="form">
                            
                                <div class="col-sm-12">
                                
                                
                                    {% if agenciaRecibida is not defined or agenciaRecibida is null %}
                                        {% set agenciaRecibida = {'id': "0"} %}
                                    {% endif %}

                                    <select id="agenciaMostrar" style="width:100%;" class="form-control txt-select" onchange="agenciaSelected(this)" >
                                        <option  class=""  value="-1" ></option>
                                        {%    for agencia in agencias   %}
                                        <option  class=""  value="{{ loop.index0  }}" {% if agencia.id == agenciaRecibida.id %}selected{% endif %} >{{  agencia.nombre }}</option>
                                        {%    endfor %}   
                                    </select>
                                </div>


                        </form>
                    </div>

                    <div class="col-md-4">
                        <hr style="border-top: 1px solid #CCCCCC;">
                    </div>


                </div>


                <div class="row" style="margin-top: 40px;">
                        

                    <div class="col-md-12">
                        <div class="col-md-4">
                            <h4 class="text-center">ATENCI&Oacute;N</h4>
                            <div class="col-md-3">
                                {% image '@CelmediaToyocostaVehiculosBundle/Resources/public/images/icon/horario.png' %}
                                <img src="{{ asset_url }}" class="img-responsive" alt="Contacto" style="margin: 0 auto;" />
                                {% endimage %}
                                
                            </div>
                            <div class="col-md-9">
                                <p id="horario" class="text-left info-contacto">Lunes a Viernes: Ventas 8:00 a 19:00, 
                                    Repuestos 8:30 a 19:30 y Talleres 7:30 a 17:30. Sábados: Ventas 10:00 a 15:00, Repuestos 09:00 a 13:00 y Talleres 08:30 a 13:00.
                                </p>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <h4 class="text-center">UBICACI&Oacute;N</h4>
                            <div class="col-md-3">
                                {% image '@CelmediaToyocostaVehiculosBundle/Resources/public/images/icon/ubicacion.png' %}
                                <img src="{{ asset_url }}" class="img-responsive" alt="Contacto" style="margin: 0 auto;" />
                                {% endimage %}
                            </div>
                            <div class="col-md-9">
                                <p id="ubicacion" class="text-left info-contacto">Av. Carlos Julio Arosemena Km 3.5 </p>                                
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <h4 class="text-center">TEL&Eacute;FONO</h4>
                            <div class="col-md-3">
                                {% image '@CelmediaToyocostaVehiculosBundle/Resources/public/images/icon/telefono.png' %}
                                <img src="{{ asset_url }}" class="img-responsive" alt="Contacto" style="margin: 0 auto;" />
                                {% endimage %}
                            </div>
                            <div class="col-md-9">
                                <p id="telefono" class="text-left info-contacto">3704700</p>
                            </div>
                        </div>
                    </div>



                </div>
            </div>
            
        </div>

    

        <div class="row tb-40">
            <div class="col-md-12" style="border: 1px solid #ccc;">   
        
                <p class="text-center info-contacto" style="padding-top:40px;padding-bottom:10px;">Por favor llene el siguiente formulario para que un representante de Toyocosta pueda comunicarse con usted inmediatamente.</p>
        
                <form id="form-contacto" class="form-horizontal">
                        
                    <div class="container-fluid">
                        

                        <div class="row" style="padding-top:30px;padding-bottom:30px;">
                            <div class="col-md-4 col-md-offset-1 alto-completo">

                                <div class="form-group">
                                    <label>Nombre:</label>
                                    <input id="cnombre" name="cnombre" type="text" maxlength="50" class="form-control" placeholder="" />
                                </div>
                                
                                <div class="form-group">
                                    <label>Telefono:</label>
                                    <input id="cinputTelefono" name="cinputTelefono" type="text" maxlength="15" class="form-control" placeholder="" />
                                </div>
                                <div class="form-group">
                                    <label>Ciudad:</label>
                                    <input id="cciudad" name="cciudad" type="text" maxlength="50" class="form-control" placeholder="" />
                                </div>
                                <div class="form-group">
                                    <label>Requirimiento:</label>
                                    <select name="crequerimiento" id="crequerimiento" class="form-control txt-select" >                                     
                                        <option value="" >Seleccione requerimiento</option>
                                        <option value="nuevos" >Vehículos nuevos</option>
                                        <option value="seminuevos" >Vehículos seminuevos</option>
                                        <option value="cita" >Citas talleres</option>
                                        <option value="repuestos" >Repuestos</option>
                                        <option value="pintura" >Enderezada y Pintura</option>
                                        <option value="montacargas" >Montacargas</option>
                                        <option value="motos" >Motos</option>
                                        <option value="pirelli" >Pirelli</option>
                                        <option value="comentarios" >Comentarios o sugerencias</option>
                                        
                                    </select>
                                </div>
  


                            </div>
                            <div class="col-md-4 col-md-offset-2 alto-completo">
                                <div class="form-group">
                                    <label>Apellido:</label>
                                    <input id="capellido" name="capellido" type="text" maxlength="50" class="form-control" placeholder="" />
                                </div>
                                <div class="form-group">
                                    <label>Email:</label>
                                    <input id="cemail" name="cemail" type="text" class="form-control" placeholder="" />
                                </div>
                                
                                <div class="form-group">
                                    <label>Area:</label><br />
                                    <select name="carea" id="carea" class="form-control txt-select" >                                       
                                        <option  class=""  value="" >Seleccione la agencia</option>
                                        {% for agencia in agencias   %}
                                        <option  class=""  value="{{ agencia.nombre  }}" >{{  agencia.nombre }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Observaciones:</label>
                                    
                                    <textarea id="cobs" name="cobs" class="form-control" rows="3"></textarea>

                                </div>

                            </div>
                        </div>
                        <div class="row space-input">
                            <div class="col-md-12 tb-20">

                                <div class="row">
                                    <div class="col-md-4 col-md-offset-4">

                                        <input id="btn-contacto" type="submit" value="Enviar" class="btn btn-toyocosta" style="width:100%;">
                                    </div>
                                </div>  
                            </div>

                        </div>


                    </div>

                </form>

            </div>


        </div>
        <div class="row tb-20">
            <div id="map-canvas-toyocosta" style="width:100%;height:550px"></div>
        </div>

        <div class="row" style="padding-bottom:50px;"></div>

    </div>



{% endblock %}

{% block extrajs %}

       
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script type="text/javascript" src="{{ asset('js/google-maps-toyocosta.js') }}" ></script>


    <script type="text/javascript">


        var agencias = new Array(); 

        {%    for agencia in agencias   %}

        agencias[ {{  loop.index0 }} ] = {nombre:"{{agencia.nombre }}" , ubicacion:"{{agencia.ubicacion }}" , telefono:"{{agencia.telefono }}", horario:"{{agencia.horario }}", latitud:"{{agencia.latitud }}" , longuitud:"{{agencia.longuitud  }}"} ; 

        {%    endfor %}   

            ///// variable del mapa
            var map;
            ///// creacion de un punto con latitud y longitud para centrar el mapa 
            var lugarubicacion = new google.maps.LatLng(-2.165258, -79.922990);


            ///// estilo usado para que el mapa salga en escala de grises
            var stylez = [{
                featureType: "all",
                elementType: "all",
                stylers: [{
                    saturation: -100
                }]
            }];

            //// configuracion del mapa que se va  a crear con las variables que se crearon anteriormente
            var mapOptions = {
                zoom: 11,
                center: lugarubicacion,
                zoomControl: true,
                scaleControl: false,
                scrollwheel: false,
                mapTypeControlOptions: {
                    mapTypeIds: [google.maps.MapTypeId.ROADMAP, 'tehgrayz']
                }
            };

            /// inicializacion del mapa 
            map = new google.maps.Map(document.getElementById("map-canvas-toyocosta"), mapOptions);



            ///// aplicacion de los estilos al mapa 
            var mapType = new google.maps.StyledMapType(stylez, {
                name: "Grayscale"
            });
            map.mapTypes.set('tehgrayz', mapType);
            map.setMapTypeId('tehgrayz');



            //// funcion que agrega un mark y centra el mapa en la posicion dada


            function agregarYCentrar(latitud, longuitud) {



                var myLatlng = new google.maps.LatLng(latitud, longuitud);
                var marker = new google.maps.Marker({
                    position: myLatlng,
                    map: map
                });

                map.panTo(myLatlng);


            }

            function agenciaSelected(){

                var indice = $("#agenciaMostrar").val(); 

                var nombre = agencias[indice].nombre;
                var ubicacion= agencias[indice].ubicacion;
                var telefono = agencias[indice].telefono;
                var horario = agencias[indice].horario;

                var latitud = agencias[indice].latitud;
                var longuitud = agencias[indice].longuitud;

                agregarYCentrar(latitud, longuitud);

                $("#agencia").text(nombre);
                $("#ubicacion").text(ubicacion);
                $("#telefono").text(telefono);
                $("#horario").text(horario);


            }

    </script>

{% endblock %}

